# 아키텍처

- MySQL (MySQL Server)
  - 프로그래밍 API
    - C API, JDBC, ODBC, PHP, Perl, Python, Ruby 등에게 표준 드라이버를 제공하여 해당 언어로 MySQL 서버와 통신할 수 있도록 한다.
  - MySQL 엔진 (요청된 SQL 문장을 분석 또는 최적화하는 등 DBMS의 두뇌에 해당)
    - 커넥션 핸들러: 클라이언트로부터 접속 및 쿼리 요청을 처리하는 커넥션 핸들러
    - SQL 파서: SQL 문장을 파싱하여 쿼리 실행 계획을 생성하는 SQL 파서
    - 전처리기: SQL 문장을 파싱하기 전에 전처리를 수행하는 전처리기
    - 옵티마이저: 쿼리의 최적화된 실행을 담당
  - 스토리지 엔진 (실제 데이터를 디스크 스토리지에 저장하거나 디스크 스토리지로부터 데이터를 읽어오는 부분을 담당)

## 쿼리 파서
쿼리 파서는 사용자 요청으로 들어온 쿼리 문장을 토큰(MySQL이 인식할 수 있는 최소 단위의 어휘나 기호)으로 분리해 트리 형태의 구조로 만들어 내는 작업을 의미한다.
쿼리 문장의 기본 문법 오류는 이 과정에서 발견되고 사용자에게 오류 메시지를 전달하게 된다.

## 전처리기
파서 과정에서 만들어진 파서 트리를 기반으로 쿼리 문장에 구조적인 문제점이 있는지 확인한다. 각 토큰을 테이블 이름이나 컬럼 이름, 또는 내장 함수와 같은 객체를
매핑해 해당 객체의 존재 여부와 객체의 접근 권한 등을 확익하는 과정을 이 단계에서 수행한다. 실제 존재하지 않거나 권한상 사용할 수 없는 객체의 토큰은 이 단계에서 걸러진다.

## 옵티마이저
옵티마이저란 사용자의 요청으로 들어온 쿼리 문장을 저렴한 비용으로 가장 빠르게 처리할지를 결정하는 역할을 담당하며, DBMS의 두뇌에 해당한다고 볼 수 있다.

## 실행 엔진
옵티마이저가 두뇌라면 실행 엔진과 핸들러는 손과 발에 비유할 수 있다. 실행 엔진은 만들어진 계획대로 각 핸들러에게 요청해서 받은 결과를 또 다른 핸들러 요청의
입력으로 연결하는 역할을 수행한다.

## 핸들러 (스토리지 엔진)
핸들러는 MySQL 서버의 가장 밑단에서 MySQL 실행 엔진의 요청에 따라 데이터를 디스크로 저장하고 디스크로부터 읽어 오는 역할을 담당한다.
핸들러는 결국 스토리지 엔진을 의미한다.

