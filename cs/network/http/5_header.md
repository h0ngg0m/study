# 헤더 (Header)
헤더에는 특정 종류의 메시지에만 사용할 수 있는 헤더와, 더 일반 목적으로 사용할 수 있는 헤더, 그리고 응답과 요청 메시지 양쪽 모두에서
정보를 제공하는 헤더가 있다. 크게 5가지로 나눌 수 있다.

## 일반 헤더 (General Header)
일반 헤더는 클라이언트, 서버 양쪽 모두가 사용한다. 이들은 클라이언트, 서버, 그리고 어딘가에 메시지를 보내는 다른 애플리케이션을 위해 다양한 목적으로 사용된다.
예를 들어 Date 헤더는 서버와 클라이언트를 가리지 않고 메시지가 만들어진 일시를 지칭하기 위해 사용하는 일반 목적 헤더이다.
```
Date: Tue, 15 Nov 1994 08:12:31 GMT
```
### 일반 헤더
- Connection: 클라이언트와 서버가 요청/응답 연결에 대한 옵션을 정할 수 있게 해준다.
- Date: 메시지가 만들어진 일시를 지칭한다.
- MIME-Version: 메시지가 사용하는 MIME 버전을 지칭한다.
- Trailer chunked transfer: 인코딩으로 인코딩된 메시지의 끝 부분에 위치한 헤더들의 목록을 나열한다.
- Transfer-Encoding: 메시지에 사용된 인코딩을 지칭한다.
- Upgrade: 발송자가 업그레이드하길 원하는 새 버전이나 프로토콜을 알려준다.
- Via: 메시지가 전달되는 동안 거쳐간 중개자들의 목록을 나열한다. (프록시, 게이트웨이 등)
### 일반 케시 헤더
HTTP/1.0 부터 HTTP 어플리케이션에게 매번 원 서버에 접근해서 객체를 가져오는 대신 로컬 복사본으로 캐시할 수 있도록 해주는 최초의 헤더를 도입했다. 
- Cache-Control: 메시지와 함께 캐시 지시자를 전달하기 위해 사용한다.
- Pragma: 메시지와 함께 지시자를 전달하는 또 다른 방법, (캐시에 국한되지 않는다!)

## 요청 헤더 (Request Header)
요청 헤더는 요청 메시지를 위한 헤더다. 이들은 클라이언트가 받고자 하는 데이터의 타입이 무엇인지와 같은 부가 정보를 제공한다.
예를 들어 Accept 헤더는 클라이언트가 받고자 하는 데이터의 타입을 지정하기 위해 사용한다.
```
Accept: text/html, application/xhtml+xml, image/jxr, */*
```
- Client-IP: 클라이언트의 IP 주소를 전달한다.
- From: 사용자의 이메일 주소를 전달한다.
- Host: 요청한 호스트의 이름을 전달한다.
- Referer: 현재의 요청 URI가 들어있었던 문서의 URL을 제공한다.
- UA-*: 사용자의 기기에 대한 정보 등을 제공한다(CPU 제조사, 종류 / OS / 브라우저 등)
- User-Agent: 요청을 보낸 사용자 에이전트의 이름을 서버에게 알려준다.
### Accept 관련 헤더
- Accept: 클라이언트가 받고자 하는 미디어 종류를 지정한다.
- Accept-Charset: 클라이언트가 받고자 하는 문자 집합을 지정한다.
- Accept-Encoding: 클라이언트가 받고자 하는 인코딩을 지정한다.
- Accept-Language: 클라이언트가 받고자 하는 자연 언어를 지정한다.
- TE: 클라이언트가 받고자 하는 전송 인코딩을 지정한다.
### 조건부 요청 헤더
조건부 요청 헤더를 통해 클라이언트는 서버에게 요청에 응답하기 전에 먼저 조건이 참인지 확인하게 하는 제약을 포함시킬 수 있다.
- Expect: 클라이언트가 요청에 필요한 서버의 행동을 열거할 수 있게 해준다.
- If-Match: 문서의 엔티티 태그가 주어진 엔티티 태그와 일치하는 경우에만 문서를 가져온다.
- If-Modified-Since: 주어진 날짜 이후에 리소스가 변경되지 않았다면 요청을 제한한다.
- If-None-Match: 문서의 엔티티 태그가 주어진 엔티티 태그와 일치하지 않는 경우에만 문서를 가져온다.
- If-Range: 문서의 특정 범위에 대한 요청을 할 수 있게 해준다.
- If-Unmodified-Since: 주어진 날짜 이후에 리소스가 변경되었다면 요청을 제한한다.
- Range: 문서의 특정 범위에 대한 요청을 할 수 있게 해준다.
### 요청 보안 헤더
클라이언트가 어느 정도의 리소스에 접근하기 전에 자신을 인증하게 함으로써 트랜잭션을 약간 더 안전하게 만들고자 한다.
- Authorization: 클라이언트가 서버에게 제공하는 인증 그 자체에 대한 정보를 담고 있다.
- Cookie: 클라이언트가 서버에게 토큰을 전달할 때 사용한다. 진짜 보안 헤더는 아니지만, 보안과 관련된 헤더다.
- Cookie2: 클라이언트가 지원하는 쿠키의 버전을 지정한다.
### 프락시 요청 헤더
프락시의 기능을 돕기 위해 사용되는 헤더다.
- Max-Forwards: 요청이 원 서버로 향하는 과정에서 다른 프락시나 게이트웨이로 전달될 수 있는 최대 횟수
- Proxy-Authorization: Authorization과 같으나 프락시에서 인증을 할 때 쓰인다.
- Proxy-Connection: Connection과 같으나 프락시에서 연결을 할 때 쓰인다.

## 응답 헤더 (Response Header)
응답 메시지는 클라이언트에게 정보를 제공하기 위한 자신만의 헤더를 갖고 있다. 예를 들어 다음의 Server 헤더는 클라이언트에게 자신이 어떤 서버와 대화하고 있는지는 알려준다.
```
Server: Apache/2.4.1 (Unix)
```
- Age: 응답이 얼마나 오래되었는지를 알려준다.
- Public: 서버가 특정 리소스에 대해 지원하는 요청 메서드의 목록
- Retry-After: 현재 리소스가 사용 불가능한 상태일 때, 언제 가능해지는지 날짜 혹은 시각
- Server: 서버가 사용하는 소프트웨어의 이름과 버전
- Title: HTML 문서에서 주어진 것과 같은 제목
- Warning: 사유 구절에 있는 것보다 더 자세한 경고 메시지

### 협상 헤더
- Accept-Ranges: 서버가 자원에 대해 받아들일 수 있는 범위의 형태
- Vary: 서버가 확인해 보아야 하고 그렇기 때문에 응답에 영향을 줄 수 있는 헤더들의 목록

### 응답 보안 헤더
- Proxy-Authenticate: 르락시에서 클라이언트 보낸 인증요구의 목록
- Set-Cookie: 진짜 보안 헤더는 아니지만, 보안에 영향은 줄 수 있다. 서버가 클라이언트를 인증할 수 있도록 클라이언트 측에 토큰을 설정하기 위해 사용한다.
- Set-Cookie2: Set-Cookie와 같으나 쿠키의 버전을 지정한다.
- WWW-Authenticate: 서버가 클라이언트로 보낸 인증요구의 목록

## 엔티티 헤더 (Entity Header)
엔티티 헤더란 엔티티 본문에 대한 헤더를 말한다. 예를 들어, 엔티티 헤더는 엔티티 본문에 들어있는 데이터의 타입이 무엇인지 말해줄 수 있다. 예를 들어, 다음의 Content-Type 헤더는 엔티티 본문에 들어있는 데이터가 HTML임을 알려준다.
```
Content-Type: text/html; charset=UTF-8
```
- Allow: 이 엔티티에 대해 허용되는 요청 메서드의 목록
- Location: 클라이언트에게 엔티티가 실제로 어디에 위치하고 있는지 말해준다. 수신자에게 리소스에대한 위치를 알려줄 때 사용한다.
### 콘텐츠 헤더
콘텐츠 헤더는 엔티티의 콘텐츠에 대한 구체적인 정보를 제공한다.
- Content-Base: 본문에서 사용된 상대 URL을 계산하기 위한 기준 URL
- Content-Encoding: 본문에 사용된 인코딩
- Content-Language: 본문에 사용된 자연 언어
- Content-Length: 본문의 길이
- Content-Location: 리소스가 실제로 어디에 위치하는지
- Content-MD5: 본문의 MD5 체크섬
- Content-Range: 본문의 범위
- Content-Type: 본문의 미디어 타입
### 엔티티 캐싱 헤더
일반 캐싱 헤더는 언제 어떻게 캐시가 되어야 하는지에 대한 지시자를 제공한다. 엔티티 캐싱 헤더는 엔티티 캐싱에 대한 정보를 제공한다. 예를 들면, 리소스에 대해 캐시된
사본이 아직 유효한지에 대한 정보와, 캐시된 리소스가 더 이상 유효하지 않게 되는 시점을 더 잘 추정하기 위한 단서 같은 것이다.
- ETag: 이 엔티티에 대한 엔티티 태그
- Expires: 이 엔티티가 더 이상 유효하지 않게 되는 시각
- Last-Modified: 이 엔티티가 마지막으로 수정된 시각

## 확장 헤더 (Extension Header)
확장 헤더는 HTTP 표준에 정의되어 있지 않은 헤더다. 이들은 개발자가 커스텀하여 특정한 애플리케이션에만 적용되는 헤더다. 예를 들어, 다음의 X-Powered-By 헤더는 서버가 PHP로 작성되었음을 알려준다.
```
X-Powered-By: PHP/5.4.0
```