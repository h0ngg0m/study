# PCB (프로세스 제어 블록)
프로세스를 실행하는 데 필요한 중요한 정보를 보관하는 자료구조, 모든 프로세스는 PCB를 가지며 프로세스가 생성 시에 같이 만들어지고 프로세스가 실행을
완료하면 폐기된다.

## PCB - 구성
- 포인터: 준비 상태나 대기 상태는 큐로 운영되는데, PCB를 연결하여 준비 상태나 대기 상태의 큐를 구현할 때 포인터를 사용한다. 말 그대로 PCB를 가리키거나 연결할 수 있는 포인터다.
- 프로세스 상태: 프로세스의 상태를 나타내는 정보다. 프로세스 상태는 생성, 준비, 실행, 대기, 완료 등이 있다.
- 프로세스 구분자(PID): 프로세스를 구분하기 위한 고유한 ID다.
- 프로그램 카운터(PC): 프로세스가 다음에 실행할 명령어의 주소를 가리키는 포인터다.
- 프로세스 우선순위: 프로세스가 CPU를 할당받을 때 우선순위가 높은 프로세스가 먼저 CPU를 할당받는다.
- 각종 레지스터 정보: PCB에는 프로세스가 실행되는 중에 사용하던 레지스터 값들이 저장된다. 이전에 실행할 때 사용한 레지스터의 값을 보관해야 다음에 실행할 수 있기 때문이다.
- 메모리 관리 정보: PCB에는 프로세스가 메모리의 어디에 있는지 나타내는 메모리 위치 정보, 메모리 보호를 위해 사용하는 경계 레지스터 값과 한계 레지스터 값 등이 저장된다.
- 할당된 자원 정보: 프로세스를 실행하기 위해 사용하는 입출력 자원이나 오픈 파일 등에 대한 정보를 말한다. 예를들어 음악을 출력하기 위해 사운드카드에
접근하고 있다면 사운드카드에 대한 정보가 필요한데, 이러한 정보를 PCB에 저장한다.
- 계정 정보: 계정 번호, CPU 할당 시간, CPU 사용 시간 등으로, 이러한 정보는 PCB에 저장된다.
- 부모PID, 자식PID: 프로세스는 다른 프로세스를 생성할 수 있다. 이때 부모 프로세스의 PID를 부모PID로 저장하고, 자식 프로세스의 PID를 자식PID로 저장한다.

## 컨텍스트 스위칭
두 프로세스의 PCB를 교체하는 작업, 프로세스가 실행되다가 인터럽트가 발생하면 현재 실행 중인 프로세스의 정보를 해당 프로세스의 PCB에 저장하고, 다음 실행할 프로세스의 PCB에 저장된 정보를 CPU에 로드하여 실행한다.
- 절차: 실행 상태에 있는 프로세스 P1이 타임 슬라이스를 다 사용하여 타임아웃이 되면 P1의 PCB에 현재까지의 작업 결과를 저장하고 P1을 준비 상태로 옮긴다. 그리고 준비 상태에 있던
다른 프로세스 P2가 실행 상태로 가면 CPU의 레지스터가 P2의 PCB값으로 채워져 다음 작업을 하게된다.
- 발생 조건: 일반적으로 한 프로세스가 자신에게 주어진 시간을 다 사용하면 발생, 인터럽트가 걸렸을 때도 발생.